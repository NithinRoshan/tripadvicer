(this.$WP=this.$WP||[]).push(["j3bsmh",(e,n)=>{var s,a,t,o,i,r,l,c,d,u,p,h,m,g,_,v,f,M,w,C,y,b,I,k,T,S,E,x,N,q,O,R,j=()=>{var{fetching:e,bucket:n}=g({experiment:"chrome_fedcm_google_one_tap_updates_1705078995"});return{fetching:e,isFedcmExperiment:!e&&"test"===n}},G="GOOGLE_ONETAP",L=({enhancedGoogleOneTapGate:e})=>t(()=>e?{pid:40670,flow:G,deferShowOverlay:!0}:{pid:40185,flow:G,deferShowOverlay:!0},[e]),F=()=>{var e=o(()=>w.remove("g_state"),[]);return i(()=>e,[e]),e},z=(e={skipImpression:!0})=>{var{page:n,params:s}=C(),a="AttractionProductsFusion",t=n===a&&"contentId"in s&&null!=s.contentId&&s.contentId.length>0,o=y({experimentKeys:["disable_pop_ups_on__ap_1687359717"],skipImpression:e?.skipImpression,page:a},!t);return t&&o?.disable_pop_ups_on__ap_1687359717==="test"},D=({onNotDisplayed:e,onUserSkipped:n,onCredentialReady:s,onAutoCancelled:a,onGeneralSkipDismiss:c,isFedcmEligible:d,fetchingFedcmExperiment:u,containerId:p,flow:h,pid:m})=>{var g=r(null),[w,C]=l(!1),y=_(),b=S(),I=z({skipImpression:!1}),k=o((e,n)=>{y({module:"google_onetap",action:e,context:`${n}|${h}|isFedCM: ${d}`,value:m})},[h,m,y,d]),T=o(e=>{e&&(k("credentials_success",e.select_by),s(e.credential),C(!1))},[s,k]),E=o((n,s)=>{!I&&(k("display_event",s||"success"),f(n),C(n),n||e())},[e,k,I]),x=o(e=>{k("skipped_event",e),C(!1),"user_cancel"===e?n():"auto_cancel"===e?a():c&&c("skipped",e)},[n,a,c,k]),N=o(e=>{k("dismiss_event",e),C(!1),c&&(c("dismissed",e),"credential_returned"!==e&&c("dismissed",e))},[k,c]),q=o(e=>{switch(b(),e.getMomentType()){case"display":E(e.isDisplayed(),e.getNotDisplayedReason());break;case"skipped":x(d?"unknown_reason":e.getSkippedReason());break;case"dismissed":N(e.getDismissedReason())}},[b,E,x,d,N]),O=o(e=>{null===g.current&&(g.current=e,k("requested","na"),e.initialize({client_id:"1070328450902.apps.googleusercontent.com",callback:T,cancel_on_tap_outside:!1,prompt_parent_id:p,auto_select:!M(),use_fedcm_for_prompt:d}),e.prompt(q))},[k,T,p,d,q]);return i(()=>{k("script_requested","na"),v("https://accounts.google.com/gsi/client","MEMX").then(()=>{var e=()=>!u&&O(window.google.accounts.id);window.google?.accounts?.id?.initialize?e():window.onGoogleLibraryLoad=e})},[O,k,u]),i(()=>()=>{g.current&&g.current.cancel()},[]),t(()=>({shown:w}),[w])},P=e=>e+61+49,A=()=>({top:P(0),bottom:0}),B=()=>document.getElementById("credential_picker_iframe"),$={oneTapMessageContainer:"ZkqhQ Gi B1 Z BB Cj Za",oneTapMessageMobileContainer:"SuwMt D Gi l",oneTapMessageInnerContainer:"QnnKe z",oneTapIcon:"MPoqM Cj",headline:"LcmJt Cj Hn o q f u",rtl:"wVHIl",subhead:"ZnAJV Cj o q"},V=({bottom:e})=>{var n=h(),{userAgentCategory:o}=d();return t(()=>"MOBILE"===o,[o])?s("div",{className:b($.oneTapMessageMobileContainer,$.oneTapMessageContainer),style:{bottom:`${e||0}px`},children:s("div",{className:$.oneTapMessageInnerContainer,children:a("h3",{className:$.headline,children:[s("span",{className:$.oneTapIcon,children:s(I,{})}),s(p,{id:"onetap_message_unlock"})," "]})})}):s("div",{className:b($.oneTapMessageContainer,{[$.rtl]:n}),children:a("div",{className:$.oneTapMessageInnerContainer,children:[a("h3",{className:$.headline,children:[s("span",{className:$.oneTapIcon,children:s(I,{})}),s(p,{id:"onetap_message_unlock"})," "]}),a("p",{className:$.subhead,children:[s(p,{id:"onetap_message_subhead_to_get_the_most"})," "]})]})})},Z=({shown:e,isContextualMessagingEnabled:n,onShow:a})=>{var{bottom:t}=x(),[o,r]=l(!1),[c,d]=l(0);return i(()=>{if(!e)return()=>{};var s=B();if(s){if(s.style.bottom=`${t}px`,s.style.zIndex="10105",!n)return()=>{};var a,o=new MutationObserver(e=>{var n=e?.[0]?.target;if(n instanceof HTMLElement){clearTimeout(a);var s=parseInt(n?.style?.height||"0",10),t=isNaN(s)?0:s-9;a=setTimeout(()=>{d(t),r(t>0)},400)}});return o.observe(s,{attributes:!0}),()=>{o.disconnect(),clearTimeout(a)}}return()=>{}},[t,e,n]),i(()=>{e&&a&&a()},[e,a]),e&&o?s(N,{bottom:c+t}):null},H=({shown:e,containerId:n,isContextualMessagingEnabled:t,onShow:o})=>{var{top:c}=x(),[d,u]=l(!1),p=r(null);return i(()=>{if(e&&p&&p.current){var n=p.current.children[0];n&&(n.style.zIndex="10107",n.children&&0!==n.children.length&&(n.children[0].onload=()=>{u(t)}))}},[e,t]),i(()=>{e&&o&&o()},[e,o]),a("div",{className:b("mxEhR D y G- Za f e u",{LEMGe:!e}),style:{top:c},children:[d&&s(N,{}),s("div",{id:n,className:"hRNvt M0",ref:p})]})},Q=["CheapFlightsSearchResults","CheapFlightsSearchDeals","MobileCheapFlightsSearchResults"],U="tripGoogleOnetapContainer",X=({trackWouldOpenExplicitPreferences:e,openExplicitPreferences:n,explicitPreferencesEnabled:a,servletName:t,enhancedGoogleOneTapGate:r,onDismiss:l,onShow:p,onSuccessfulLogin:h,onAutoCancelled:g,triggerNext:_,suppressContextualMessage:v,onIFrameShown:f,isFullScreen:M,fullScreenHeader:w})=>{var C=c(),y=c(),{fetching:b,isFedcmExperiment:I}=j(),S=T({enhancedGoogleOneTapGate:r}),x=m(),{fetching:N,isTermsPageExperiment:G}=k(),L=!N&&!!G,{browser:F}=d(),z="CHROME"===F.family&&F.majorVersion>=108&&I,{shown:D}=E({onNotDisplayed:()=>{_(),l()},onUserSkipped:l,onAutoCancelled:()=>{g&&g()},onGeneralSkipDismiss:l,onCredentialReady:o(s=>{C({extraQueryParams:{google_id_token:s,isFedCM:z},isFullScreen:!!M,closeX:!L,fullScreenHeader:w,onSwitchFlow:e=>{y(e)},onSuccess:s=>{h&&s&&s.userId&&h(!!s.hasCreatedMember,s.userId),s&&!0===s.hasCreatedMember&&(e&&e(),a&&n&&n())},onClose:()=>{R.has(x)||window.location.reload()},...S})},[a,L,w,z,M,x,C,S,h,n,y,e]),isFedcmEligible:z,fetchingFedcmExperiment:b,containerId:U,pid:S.pid,flow:S.flow});i(()=>{if(D){var e=B();e&&f&&f(e)}},[D,f]);var P=u(),A=!v&&(null==t||!Q.includes(t));return!b&&z?null:"MOBILE"===P?s(q,{shown:D,onShow:p,isContextualMessagingEnabled:A}):s(O,{shown:D,onShow:p,containerId:U,isContextualMessagingEnabled:A})};return[()=>{T=L,S=F,E=D,x=A,N=V,q=Z,O=H,R=new Set(["en-US","es-AR","es-CL","es-CO","es-MX","es-PE","es-VE"]),e("default",X)},[e=>(s=e.jsx,a=e.jsxs),e=>(t=e.useMemo,o=e.useCallback,i=e.useEffect,r=e.useRef,l=e.useState),e=>c=e.default,e=>d=e.useUserAgent,e=>u=e.useViewportCategory,e=>(p=e.default,h=e.useRtl,m=e.useLocale),e=>g=e.useExperimentBucket,e=>_=e.useGARecorder,e=>v=e.importScript,e=>(f=e.setOneTapEligibility,M=e.userSignedOut),e=>w=e.default,e=>C=e.useRoute,e=>y=e.default,e=>b=e.default,e=>I=e.default,e=>k=e.useGoogleOneTapTermsPage]]},["21h32l","o4yt4q","lchj5q","nnprhg","ys6v1o","7thqz4","a2qxj9","32pwc7","q7wvkq","cyrz7y","5gpqhx","fgwvq1","gugp1d","fkji80","ympq4z","nicnt2"]]);
