(this.$WP=this.$WP||[]).push(["hwdnu5",(e,t)=>{var n,a,r,l,i,s,o,u,c,d,h,m,p,v,g,f,y,b,I,x,S,T,_,E,k,C,w,R,z,L,N,V,B,A,H,M={typeahead:"ZjkxF Z0 f e Wh Gz z _f",withBorder:"oPzxw",boxShadowSmall:"YvFwa",boxShadowLarge:"eolXp",boxShadowLargeLegacy:"qNzPz",open:"fiKGr",absoluteOverlay:"eCcBD",results:"wKCwt z",backdrop:"HREWK t l s _U S",smallRadius:"FqpMT",fixedHeightLarge:"ctKgY",fixedHeightSmall:"zqzCi",isTypeaheadUIRefreshExperiment:"SdUDV"},O=e=>{switch(e){case"HOTELS":return"h";case"ATTRACTIONS":return"A";case"RESTAURANTS":return"e";case"VACATION_RENTALS":return"v";default:return null}},U=e=>{var t=h(),[n,a]=i(void 0);if(s(()=>{var e=()=>{a(visualViewport?.offsetTop)};return visualViewport?.addEventListener("resize",e),()=>{visualViewport?.removeEventListener("resize",e)}},[a]),"MOBILE"===t&&e)return null!=n?`${n}px`:void 0},K=({size:e,children:t})=>"none"!==e?r("div",{className:d({[M.fixedHeightLarge]:"large"===e,[M.fixedHeightSmall]:"small"===e}),children:t}):t,D={results:"bHYOc _f Pj",header:"MJ",contents:"jywFW _R",selected:"QTIrt Ga"},P=({resultSection:e,selectedItemKey:t,selectedUrl:l,shouldUseAnchor:i,onResultHovered:s,onResultClicked:c,onResultViewed:f,isTypeaheadUIRefreshExperiment:y})=>{var{header:b,items:I,displayVariant:x="list",sectionCategory:S}=e,T=o(e=>{f?.({viewedResult:e,sectionCategory:S,globalItemIndex:e?.globalItemIndex})},[f,S]),C=o(e=>null==i||i(e),[i]),w=u(null);m(()=>{null!=w.current&&w.current.focus()},[t]);var R=u(null);m(()=>{null!=R.current&&R.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})},[t]);var z="MOBILE"===h();if("list"===x)return n(a,{children:[b&&r(g,{variant:y?"supporting-03":"label-01",color:"primaryText",marginX:"spacing-04",marginY:"spacing-02",marginTop:"spacing-03",children:b}),I?.map((e,n)=>{var a=e.key===t||!t&&null!=e.url&&l===e.url;return r(v,{tabIndex:-1,role:"option","aria-selected":a,heading:e.title,highlightingInfo:e.highlightingInfo,subheading:e.subtitle,label:e.label,icon:e.recent?p:e.icon,image:e.recent&&!y?null:e?.image,imageVariant:e.imageVariant,href:C(e)?e.url??"":void 0,selected:a,onClick:t=>{c?.({item:e,event:t,resultIndex:n,sectionCategory:S}),e.onClick?.()},onMouseOver:s,ref:e.key===t?w:void 0,onResultViewed:()=>T(e),isTypeaheadUIRefreshExperiment:y},e.key)})]});var L=I?.map((e,n)=>{var a=e.key===t||!t&&null!=e.url&&l===e.url;return r("div",{className:d({[D.selected]:a}),onMouseOver:s,ref:e.key===t?R:void 0,children:r(E,{name:`${e?.title}`??"",thumbnail:e?.image,reviewCount:e?.vrSourceID==="HA"?null:e?.ratingCount,rating:e?.vrSourceID==="HA"?null:e?.rating,url:e?.url??"",nameLineClamp:2,onClick:t=>{c?.({item:e,event:t,resultIndex:n,sectionCategory:S}),e.onClick?.()},onVisible:()=>T(e)},e.locationId)},e.locationId)});return n(a,{children:[r("div",{className:D.header,children:r(g,{variant:y?"supporting-03":"label-01",color:"primaryText",marginX:"spacing-04",marginY:"spacing-02",children:r(k,{id:"dual_search_recently_viewed"})})}),r("div",{className:D.contents,children:I?r(_,{size:z?"narrow":"medium",children:L}):null})]})},q=({resultSections:e=[],onResultClicked:t,shouldUseAnchor:n,selectedUrl:a,onTypeaheadItemSelect:l,onResultEntered:u,onResultViewed:c,resetUserSelectedIndex:d,setResetUserSelectedIndex:h,isTypeaheadUIRefreshExperiment:m=!1})=>{var[p,v]=i(null),g=0,T=e?.map(e=>({...e,items:e.items?.map(e=>({...e,globalItemIndex:g++}))}));s(()=>{!0===d&&v(null),h?.(!1)},[d,h]),s(()=>{if(null!=p){var{sectionIndex:e,itemIndex:t}=p,n=T[e],a=n?.items?.[t];l?.(a)}else l?.(null)},[p,T,l]);var _=o(()=>{v(null)},[]),E=o(e=>{switch(e.key){case S:v(e=>{if(null==e){var t=T.length-1,n=T[t],a=n.displayVariant,r=(n?.items?.length||1)-1;return{sectionIndex:t,itemIndex:"shelf"===a?0:r}}var{sectionIndex:l,itemIndex:i}=e;if("shelf"===T[l].displayVariant||0===i){if(0===l)return null;var s=l-1,o=T[s],u=o.displayVariant,c=(o?.items?.length||1)-1;return{sectionIndex:s,itemIndex:"shelf"===u?0:c}}return{sectionIndex:l,itemIndex:i-1}}),e.preventDefault();break;case x:v(e=>{if(null==e)return{sectionIndex:0,itemIndex:0};var{sectionIndex:t,itemIndex:n}=e,a=T[t],r=(a?.items?.length||1)-1,l=t===T.length-1;return"shelf"===a.displayVariant||n===r?l?null:{sectionIndex:t+1,itemIndex:0}:{sectionIndex:t,itemIndex:n+1}}),e.preventDefault();break;case I:v(e=>{if(null==e)return null;var{sectionIndex:t,itemIndex:n}=e;return"list"===T[t].displayVariant?e:0===n?e:{sectionIndex:t,itemIndex:n-1}}),e.preventDefault();break;case b:v(e=>{if(null==e)return null;var{sectionIndex:t,itemIndex:n}=e,a=T[t],r=a.displayVariant,l=(a?.items?.length||1)-1;return"list"===r?e:n===l?e:{sectionIndex:t,itemIndex:n+1}}),e.preventDefault();break;case y:var t=null!=p?T[p?.sectionIndex]?.items?.[p?.itemIndex]:null,n=0;if(null!=p)for(var a=p.sectionIndex,r=0;r<a;r++){var l=T[r];l&&l.items&&(n+=l.items.length)}var i=null!=p&&void 0!==n?n+p?.itemIndex:p?.itemIndex,s=null!==p?p?.sectionIndex:void 0,o=null!=s?T?.[s]?.sectionCategory:void 0;u?.({evt:e,selectedResult:t,resultIndex:i,sectionCategory:o});break;case f:e.preventDefault()}},[T,u,p]);return w("keydown",e=>{e instanceof KeyboardEvent&&E(e)}),r("div",{id:"typeahead_results",role:"listbox","aria-labelledby":"typeahead_results_header",className:D.results,"data-test-attribute":"typeahead-results",children:T.map((e,l)=>r(P,{resultSection:e,selectedItemKey:l===p?.sectionIndex&&void 0!==e?e?.items?.[p?.itemIndex]?.key:void 0,selectedUrl:a,shouldUseAnchor:n,onResultHovered:_,onResultClicked:t,onResultViewed:c,isTypeaheadUIRefreshExperiment:m},l))})},Y={button:"LhcRH _G _H B- G_ _S t u j H0",clear:"cnrkC",collapsedIcon:"bAEdq",loadingSpinner:"RqoKR",circle:"ZMxoM"},j=({onClick:e,size:t})=>{var{localize:n}=C();return r("button",{type:"button",className:d(Y.button,Y.collapsedIcon),title:n.string("common_Search"),"aria-label":n.string("common_Search"),onClick:e,children:r(z,{size:t})})},F=({onClick:e,size:t})=>{var{localize:n}=C();return r("button",{type:"button",className:Y.button,title:n.string("mobile_back_8e0"),"aria-label":n.string("mobile_back_8e0"),onClick:e,children:r(R,{size:t})})},X=({onClick:e,size:t})=>{var{localize:n}=C();return r("button",{type:"button",className:d(Y.button,Y.clear),title:n.string("mobile_search_filter_clear_26e8"),"aria-label":n.string("mobile_search_filter_clear_26e8"),onClick:e,children:r(L,{size:t})})},G=({isLoading:e,size:t})=>{var{localize:n}=C();return r("button",{type:"submit",formAction:"/Search",className:Y.button,title:n.string("common_Search"),"aria-label":n.string("common_Search"),tabIndex:-1,children:e?r("svg",{className:Y.loadingSpinner,viewBox:"0 0 20 20",children:r("path",{className:Y.circle,d:"M 10 2 A 8 8 0 1 0 18 10"})}):r(z,{size:t})})},W=({onClose:e,onChange:t,viewportCategory:n,isOpen:a,highlightFirstResult:r,onOpen:l,onEscape:i})=>{var c=u(null),d=N(t=>{t||null==e||(c.current&&c.current.blur(),e())}),h=o(()=>{t?.(""),c.current&&c.current.focus()},[t]),p="MOBILE"===n&&a,v=o(()=>{p&&c.current&&c.current.blur()},[p]);V(p),m(()=>{var e=c.current,t=d.current;a&&null!=e&&null!=t&&e.focus()},[a]);var g=o(t=>{switch(t.key){case S:case x:a||(l?.(),t.preventDefault(),(t.key!==x||r)&&t.key!==S||t.stopPropagation());break;case T:i?.(),e?.(),t.preventDefault()}},[a,l,i,e,r]);return s(()=>{var e=e=>{g?.(e)},t=d.current;return t&&t.addEventListener("keydown",e),()=>{t&&t.removeEventListener("keydown",e)}},[d,g]),w("focusin",t=>{a&&d.current instanceof Element&&t.target instanceof Element&&!d.current.contains(t.target)&&e?.()}),{containerRef:d,inputRef:c,clear:h,onContainerTouchMove:v}},Q=({placeholderText:e,query:t="",displayedQuery:n="",scope:a={geoId:0},onChange:l=()=>{},onOpen:s,onClose:o,onSubmit:u,onResultEntered:c,onResultHovered:m,onResultClicked:p=()=>{},onResultViewed:v=()=>{},isOpen:g=!1,isLoading:f=!1,resultSections:y,searchSessionId:b="",testAttribute:I="",size:x="large",showBorder:S,boxShadow:T="none",typographyVariant:_="input-01",highlightFirstResult:E=!1,absoluteOverlayStyles:k,isTypeaheadUIRefreshExperiment:C})=>{var w=h(),[R,z]=i(n),[L,N]=i(!1),V=e=>{z(e?.searchText||t||n),M.current?.focus()},{containerRef:H,inputRef:M,clear:O,onContainerTouchMove:U}=W({onClose:o,onChange:l,viewportCategory:w,onOpen:s,isOpen:g,highlightFirstResult:E,onEscape:()=>{V?.(null)}}),K=g&&"MOBILE"===w;return r(B,{ref:H,isOpen:g,testAttribute:I,onTouchMove:U,onClose:o,scope:a,searchSessionId:b,isLoading:f,onSubmit:u,showBorder:S,boxShadow:T,size:x,absoluteOverlayStyles:K?void 0:k,isTypeaheadUIRefreshExperiment:C,inputSlot:r("div",{className:d("f u Ma Nk MA NM",{DERJF:"large"===x||K,"Pa PW Pn PI":K}),children:r(A,{ref:M,displayedQuery:R,query:t,placeholderText:e,onChange:l,setResetUserSelectedIndex:N,onClick:s,onClose:o,onClear:O,isOpen:g,isLoading:f,buttonSize:x,typographyVariant:_})}),resultsSlot:g?r(q,{resultSections:y,onTypeaheadItemSelect:V,onResultHovered:m,onResultClicked:p,isTypeaheadUIRefreshExperiment:C,onResultEntered:c,onResultViewed:v,resetUserSelectedIndex:L,setResetUserSelectedIndex:N}):null})};return[()=>{B=l(function({isOpen:e=!1,testAttribute:t,onTouchMove:l,onClose:i,inputSlot:s,resultsSlot:o,scope:u,isLoading:c,size:h,showBorder:m=!1,boxShadow:p="none",radiusVariant:v="large",onSubmit:g,searchSessionId:f,absoluteOverlayStyles:y,isTypeaheadUIRefreshExperiment:b},I){var x=null!=u&&"number"==typeof u.geoId&&u.geoId>1,S=null!=u&&"number"==typeof u.latitude&&"number"==typeof u.longitude,T=O(u?.linkType);return n(a,{children:[r("div",{className:d(M.backdrop,{[M.open]:e}),onClick:i}),r(K,{size:null!=h?h:"none",children:n("div",{ref:I,className:d(M.typeahead,{[M.open]:e,[M.withBorder]:m,[M.boxShadowSmall]:"small"===p,[M.boxShadowLarge]:"large"===p,[M.boxShadowLargeLegacy]:"largeLegacy"===p,[M.smallRadius]:"small"===v,[M.absoluteOverlay]:e&&null!=y}),onTouchMove:l,"data-test-attribute":t,style:{top:U(e),...e?y:{}},children:[n("form",{role:"search","aria-busy":c?"true":void 0,action:"/Search",onInvalid:e=>e.preventDefault(),onSubmit:g,children:[r("input",{type:"hidden",name:"searchSessionId",value:f}),r("input",{type:"hidden",name:"searchNearby",value:String(S)}),S&&r("input",{type:"hidden",name:"latitude",value:u?.latitude||""}),S&&r("input",{type:"hidden",name:"longitude",value:u?.longitude||""}),x&&r("input",{type:"hidden",name:"geo",value:u?.geoId}),T&&r("input",{type:"hidden",name:"ssrc",value:T}),s]}),null!=o?r("div",{className:d(M.results,{[M.isTypeaheadUIRefreshExperiment]:b}),children:o}):null]})})]})}),A=l(function({displayedQuery:e="",query:t="",placeholderText:a,onChange:l=()=>{},onClick:i,disabled:s,isOpen:u,isLoading:c,onClose:m,onClear:p,buttonSize:v,setResetUserSelectedIndex:g,typographyVariant:f="input-01"},y){var{localize:b}=C(),I=h(),x="small"===v?20:24,S=o(e=>{l(e.currentTarget.value),g?.(!0)},[l,g]),T=r("input",{ref:y,type:"search",autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",spellCheck:"false",required:!0,name:"q",disabled:s,className:d("hUpcN _G G_ B- z F1 _J w Cj R0",{FjKFQ:u,"cPZSi H3":"input-01"===f,"NBfGt H3":"input-03"===f}),placeholder:a,title:b.string("common_Search"),role:"searchbox","aria-label":b.string("common_Search"),"aria-controls":"typeahead_results","aria-autocomplete":"list",value:e,onChange:S,onClick:()=>i?.()}),_=u&&"MOBILE"===I;return n("div",{className:d("F1 f u Q2"),children:[_?r(F,{onClick:m,size:x}):r(G,{isLoading:c,size:x}),T,_&&0!==t.length&&r(X,{onClick:p,size:x}),_&&r(G,{isLoading:c,size:x})]})}),H=c(Q),e({BackButton:F,ClearButton:X,SearchButton:G,TypeaheadContainer:B,TypeaheadResults:q,TypeaheadSearchEntrypointButton:j,TypeaheadTextInput:A,TypeaheadUI:H,getSRPCategory:O,useAccessibilityInteractions:W})},[e=>(n=e.jsxs,a=e.Fragment,r=e.jsx),e=>(l=e.forwardRef,i=e.useState,s=e.useEffect,o=e.useCallback,u=e.useRef,c=e.memo),e=>d=e.default,e=>h=e.useViewportCategory,e=>m=e.useClientSideLayoutEffect,e=>p=e.default,e=>v=e.default,e=>g=e.default,e=>(f=e.KEY_TAB_TEXT,y=e.KEY_ENTER_TEXT,b=e.KEY_RIGHT_TEXT,I=e.KEY_LEFT_TEXT,x=e.KEY_DOWN_TEXT,S=e.KEY_UP_TEXT,T=e.KEY_ESCAPE_TEXT),e=>_=e.Carousel,e=>E=e.VerticalCard,e=>(k=e.default,C=e.useLocalize),e=>w=e.useWindow,e=>R=e.default,e=>z=e.default,e=>L=e.default,e=>N=e.useVisibleEffect,e=>V=e.useBlockScroll]]},["21h32l","o4yt4q","fkji80","ys6v1o","mb2nze","w1yg77","7gmtsf","essqvy","conwso","7yaz66","asj0sy","7thqz4","ltllz9","a6i9w3","qx89h8","qkjm8h","3btuy0","uzmmz7"]]);
