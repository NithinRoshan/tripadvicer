(this.$WP=this.$WP||[]).push(["lvhf0m",(e,i)=>{var t,r,a,n,o,d,c,s,l,u,m,y,p,v,g,f,k,T,h,I,S,_,E,P,b,w,B,A,N,V,j,D={videoInfoBlock:"Pj Pu",background:"Gc"},L={LOADED_METADATA:"loadedmetadata",SEEKING:"seeking",SEEKED:"seeked",ENDED:"ended",FIRST_PLAY:"firstplay",PAUSE:"pause",VOLUME_CHANGE:"volumechange",PLAY:"play",TIMEUPDATE:"timeupdate"},C=({title:e,description:i,source:s,videoId:l,muted:u=!0,aspectRatio:m="16:9",width:V,height:j,controls:L=!0,showPlayButton:C=!0,allowFullscreen:U=!0,autoPlay:x=!1,isVideoSticky:F=!1,canBeVideoSticky:M,currentTime:R,dismissPopup:$,setVideoSticky:G,setCanBeVideoSticky:O,setCurrentTime:q})=>{var[H,z]=n(!1),[J,K]=n(!0),{page:W,params:X}=p(),Y=v(),{theme:Z}=T(),Q=o(null),ee=I(e=>{x&&z(e)},0,.3),ei=y(),et=d((e,i)=>{ei({actionType:"interact",itemId:`${l}`,itemType:e,itemName:"video_player_section_interaction",team:"TAPS",geoId:"geoId"in X&&X.geoId||0,page:W,pageUid:Y,customData:JSON.stringify(i)})},[ei,l,X,W,Y]),er=d(e=>{ei({actionType:"interact",itemId:`${l}`,itemName:"video_player_view_duration",team:"TAPS",geoId:"geoId"in X&&X.geoId||0,page:W,pageUid:Y,customData:JSON.stringify({viewedVideoProgress:`${e}%`})})},[ei,l,X,W,Y]);return c(()=>{if(!Q.current){var e,i=document.createElement("video-js");i.classList.add("vjs-big-play-centered"),i.classList.add("vjs-show-big-play-button-on-pause"),ee?.current?.appendChild(i);var t=g(i,{sources:[{src:s,type:"video/mp4"}],controls:L,muted:u,aspectRatio:m,bigPlayButton:C,controlBar:{volumePanel:{inline:!1},fullscreenToggle:U},fluid:!0,height:j,width:V,responsive:!0,playsinline:!0,html5:{nativeAudioTracks:!1,nativeVideoTracks:!1,hls:{overrideNative:!0}}});Q.current=t}var r=Q.current;return r.one(B,()=>{e=r.duration()}),r.on(N,()=>{var i=Math.round(r.currentTime()/e*100);i%10==0&&er(i)}),r.on([b],()=>{Q?.current?.muted()?et(b,{action:"audio_off"}):et(b,{action:"audio_on"})}),()=>{var e=r.currentTime();q?.(e),r.off([b,B,N]),r.dispose(),Q.current=null}},[ee,m,L,u,s,j,V,U,C,er,et,q,F]),c(()=>{J||Q.current?.on([w,P],e=>{e.type===w?et("play_fwd/back"):et(e.type)})},[J,et]),c(()=>{var e=Q.current,i=null;return e&&(e.one([_],e=>{0!==R||F||et(e.type),i=setTimeout(()=>{K(!1)},300)}),e.one(E,()=>{e.currentTime(R||0)})),()=>{e?.off([_,E,A,P]),i&&clearTimeout(i)}},[R,et,F]),c(()=>{var e=Q.current;e&&(H?(e.readyState()>=1?e.play():e.on("loadedmetadata",()=>{e.play()}),e.seeking()&&e.currentTime()===e.duration()||e.on(A,()=>{e.seeking()||e.currentTime()===e.duration()||et(A)})):(e?.off([A]),e.pause()))},[H,et]),h("keydown",d(e=>{e instanceof KeyboardEvent&&("Escape"===e.key||"Esc"===e.key)&&(null!=Q.current&&Q.current.isFullscreen()&&Q.current.exitFullscreen(),e.preventDefault())},[])),t(r,{children:[a("div",{"data-vjs-player":!0,children:a("div",{ref:ee})}),(e||i)&&t("div",{className:f(D.videoInfoBlock,{[D.background]:F&&"LIGHT"===Z}),children:[e&&a(k,{variant:"title-04",elementType:"h2",marginX:"spacing-03",marginBottom:"spacing-01",children:e}),i&&a(k,{variant:"body-01",marginBottom:"spacing-02",marginX:"spacing-03",children:i})]}),a(S,{callback:()=>{if(ee&&ee.current&&!F){var e=ee.current.getBoundingClientRect();e.bottom/e.width*100<=20&&Q.current&&M&&(q?.(Q.current.currentTime()),G(!0),O?.(!1),$&&$())}}})]})},U="fixed_video_player",x=e=>{var{page:i,params:r}=p(),n=v(),o=y(),c=d(()=>{o({actionType:"click",itemId:`${e.videoId}`,itemName:"sticky_video_player_was_closed",team:"TAPS",geoId:"geoId"in r&&r.geoId||0,page:i,pageUid:n})},[o,e.videoId,r,i,n]);return s({factory:({dismiss:i})=>a(m,{hideBackdrop:!0,disableBlockScroll:!0,className:"aFAhZ s w",children:t("div",{className:"yTHJg Gg",children:[a("div",{className:"IOFgV",children:a(l,{marginLeft:"spacing-03",onClick:()=>{e.setVideoSticky(!1),c(),i()},children:a(u,{color:"secondaryIcon"})})}),a(V,{...e})]})}),eventTypes:[U],key:U,tier:200}),null},F="video_player_is_not_fixed",M=()=>null,R=e=>{var[i,t]=n(!1),[r,o]=n(!!e.isSticky),[d,c]=n(0),{dismiss:l}=s({factory:M,eventTypes:[F],key:F,tier:200});return a("div",{className:"SivLR M- w",children:i?a(j,{isVideoSticky:i,canBeVideoSticky:r,currentTime:d,setCurrentTime:c,setVideoSticky:t,...e}):a(V,{isVideoSticky:i,setVideoSticky:t,currentTime:d,setCurrentTime:c,canBeVideoSticky:r,setCanBeVideoSticky:o,dismissPopup:l,...e})})};return[()=>{({FIRST_PLAY:_,PLAY:E,ENDED:P,VOLUME_CHANGE:b,SEEKED:w,LOADED_METADATA:B,PAUSE:A,TIMEUPDATE:N}=L),V=C,j=x,e("default",R)},[e=>(t=e.jsxs,r=e.Fragment,a=e.jsx),e=>(n=e.useState,o=e.useRef,d=e.useCallback,c=e.useEffect),e=>s=e.usePopupHierarchyRender,e=>l=e.BorderlessButton,e=>u=e.default,e=>m=e.ModalBase,e=>y=e.default,e=>(p=e.useRoute,v=e.usePageviewUid),e=>g=e.default,e=>f=e.default,e=>k=e.default,e=>T=e.useTheme,e=>h=e.useWindow,e=>I=e.useVisibleEffect,e=>S=e.default]]},["21h32l","o4yt4q","xo1is3","jppfwt","qkjm8h","uzmmz7","r73jw8","fgwvq1","galm68","fkji80","essqvy","u9jlwp","ltllz9","3btuy0","w1vb4i"]]);
